# CS2 —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–Ω—ã—Ö –∏–≥—Ä

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ **—Ü–µ–ø–æ—á–∫–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Ñ–æ–Ω–æ–≤—ã—Ö –¥–µ–º–æ–Ω–æ–≤**, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–æ–±—ã—Ç–∏—è–º–∏ —á–µ—Ä–µ–∑ **Redis**, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Ü–∏–∫–ª:  
**–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Üí –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π ‚Üí –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**.  

–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî **–ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–±–µ–¥—ã –∫–æ–º–∞–Ω–¥ –≤ –º–∞—Ç—á–µ CS2** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–∞—Ä—Ç—ã, —Å–æ—Å—Ç–∞–≤–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏–≥—Ä.

---

![CS2 System Overview](diag.svg)

## üß© –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å API-—Å–µ—Ä–≤–∏—Å–∞–º–∏: `Auth`, `Dictionaries`, `Forecaster`.  
- **–î–µ–º–æ–Ω—ã** (`ETL`, `ML`) —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ñ–æ–Ω–µ –∏ –Ω–µ –∏–º–µ—é—Ç –ø—Ä—è–º–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ API.  
- **Redis** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ.  
- **MongoDB** –∏ **PostgreSQL** —Å–ª—É–∂–∞—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

---

## 1. üßë –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Auth Service)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Å–∏—Å—Ç–µ–º–æ–π —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å **Auth**:

- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è (—Å–æ–∑–¥–∞–Ω–∏–µ —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏).  
- –í—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É, –ø–æ–ª—É—á–∞—è **JWT-—Ç–æ–∫–µ–Ω**.  
- –í—Å–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω.  

–°–µ—Ä–≤–∏—Å —Ö—Ä–∞–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ **PostgreSQL** –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Å—Å–∏—è–º–∏ –∏ —Ç–æ–∫–µ–Ω–∞–º–∏.  
–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **bcrypt**, –∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ **JWT** —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞.

---

## 2. üó∫ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (Dictionaries Service)

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–∏—Å—É **Dictionaries**, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å:

- –∫–∞—Ä—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, *Inferno*, *Mirage*);  
- –∫–æ–º–∞–Ω–¥—ã (*Team A*, *Team B*);  
- –∏–≥—Ä–æ–∫–æ–≤ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã.  

–°–µ—Ä–≤–∏—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ PostgreSQL, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∫–∞—Ä—Ç, –∫–æ–º–∞–Ω–¥ –∏ –∏–≥—Ä–æ–∫–æ–≤.  
–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–º–æ–Ω–æ–º **ETL**.

---

## 3. üß© –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (ETL Daemon)

–§–æ–Ω–æ–≤—ã–π **ETL –¥–µ–º–æ–Ω** –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ:

- –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∞—Ç—á–µ–π, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤);  
- –æ—á–∏—â–∞–µ—Ç –∏ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –µ—ë –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π;  
- –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å–µ—Ä–≤–∏—Å–µ **Dictionaries** —á–µ—Ä–µ–∑ –µ–≥–æ API.  

–ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ ML –¥–µ–º–æ–Ω –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π.

---

## 4. ü§ñ –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π (ML Daemon)

**ML –¥–µ–º–æ–Ω** –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è:

- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î.  
- –§–æ—Ä–º–∏—Ä—É–µ—Ç –Ω–∞–±–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (features) ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–∞–Ω–¥, –∏–≥—Ä–æ–∫–æ–≤ –∏ –∫–∞—Ä—Ç.  
- –û–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, RandomForest, Logistic Regression).  
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–æ–¥–µ–ª—å –∏ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –≤ –≤–∏–¥–µ —Ñ–∞–π–ª–æ–≤.  
- –ü—É–±–ª–∏–∫—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ **Redis** –∫–∞–Ω–∞–ª `"ml_models"` —Å –ø—É—Ç—è–º–∏ –∫:
  - —Ñ–∞–π–ª—É –º–æ–¥–µ–ª–∏,  
  - —Ñ–∞–π–ª—É –º–µ—Ç—Ä–∏–∫.  

> ‚öôÔ∏è ML –¥–µ–º–æ–Ω **–Ω–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö** ‚Äî –æ–Ω —É–≤–µ–¥–æ–º–ª—è–µ—Ç –æ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª—è—Ö —á–µ—Ä–µ–∑ Redis.

---

## 5. üìà –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ (Forecaster Service)

–°–µ—Ä–≤–∏—Å **Forecaster** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø–æ–±–µ–¥—ã –∫–æ–º–∞–Ω–¥:

- –ü–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –∫–∞–Ω–∞–ª `"ml_models"` –≤ Redis.  
- –ü—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏ –æ—Ç ML ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—Ç –µ—ë –≤ –ø–∞–º—è—Ç—å.  
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (`map_id`, `team1_id`, `team2_id`, `player_ids`) –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
  1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.  
  2. –ü—Ä–æ–≥–Ω–æ–∑ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–π ML-–º–æ–¥–µ–ª–∏.  
  3. –í–æ–∑–≤—Ä–∞—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –ø–æ–±–µ–¥—ã –∫–æ–º–∞–Ω–¥.  
- –ü—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∞ –≤ Redis –∫–∞–Ω–∞–ª `"forecast_events"`.  
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–æ–¥–µ–ª–∏ –∏ –º–µ—Ç—Ä–∏–∫–∞—Ö –≤ PostgreSQL —á–µ—Ä–µ–∑ `MLResultsRepository`.

---

## 6. üóÉ –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ (Forecast Results Service)

–°–µ—Ä–≤–∏—Å **Forecast Results** —Å–ª—É—à–∞–µ—Ç Redis –∫–∞–Ω–∞–ª `"forecast_events"`.  
–û–Ω –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–≥–Ω–æ–∑—ã, –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ Forecaster, –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ **MongoDB** –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.  

–≠—Ç–∞ –∏—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
- –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏,  
- –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

## 7. ‚öôÔ∏è –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ Redis

**Redis** —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º –∑–≤–µ–Ω–æ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:

- **ML ‚Üí Redis ‚Üí Forecaster**: –ø—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π.  
- **Forecaster ‚Üí Redis ‚Üí Forecast Results**: –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤.  

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- —Å–ª–∞–±—É—é —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤,  
- —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –ø—Ä–∏ —Å–±–æ—è—Ö,  
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## 8. üß≠ –ö—Ä–∞—Ç–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π "–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ –ø—Ä–æ–≥–Ω–æ–∑—É"

1. üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí **Auth**: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥, –ø–æ–ª—É—á–µ–Ω–∏–µ JWT.  
2. üó∫ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí **Dictionaries**: –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç, –∫–æ–º–∞–Ω–¥ –∏ –∏–≥—Ä–æ–∫–æ–≤.  
3. üì° –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí **Forecaster**: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –ø—Ä–æ–≥–Ω–æ–∑–∞.  
4. ‚öôÔ∏è **Forecaster** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –∏–∑ Redis (–æ—Ç ML).  
5. üîÅ **Forecaster** ‚Üí –ø—É–±–ª–∏–∫—É–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –≤ Redis (`forecast_events`).  
6. üíæ **Forecast Results** ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ MongoDB.  
7. üß© **ETL** –∏ **ML** –¥–µ–º–æ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ñ–æ–Ω–µ, –æ–±–Ω–æ–≤–ª—è—è –¥–∞–Ω–Ω—ã–µ –∏ –º–æ–¥–µ–ª–∏.

---

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ |
|------------|--------------------------|
| **API-—Å–µ—Ä–≤–∏—Å—ã (Auth, Dictionaries, Forecaster)** | üêç **FastAPI**, **Pydantic**, **AsyncIO** |
| **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ë–î-–¥—Ä–∞–π–≤–µ—Ä—ã** | üêò **asyncpg** (PostgreSQL), **motor** (MongoDB) |
| **–§–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –æ–±–º–µ–Ω —Å–æ–±—ã—Ç–∏—è–º–∏** | üîÅ **Redis** (Pub/Sub), **AsyncIO** |
| **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** | ü§ñ **scikit-learn**, **numpy**, **pandas**, **joblib** |
| **–•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö** | üóÑÔ∏è **PostgreSQL**, **MongoDB** |
| **–ú–∏–≥—Ä–∞—Ü–∏–∏** | üß± **yoyo-migrations** |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** | ‚úÖ **pytest**, **coverage**, **ruff**, **isort**, **autoflake** |
| **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | üîê **JWT**, **bcrypt** |

---

## 9. üß™ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

- –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–∫—Ä—ã—Ç—ã **unit –∏ integration —Ç–µ—Å—Ç–∞–º–∏**.  
- –î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **pytest-asyncio**.  
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é **coverage**, –æ—Ç—á—ë—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.  
- **CI —á–µ—Ä–µ–∑ GitHub Actions** –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
  1. –£—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ **Poetry**.  
  2. –ü—Ä–æ–≤–µ—Ä–∫—É —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (`isort`, `ruff`, `autoflake`).  
  3. –õ–∏–Ω—Ç–∏–Ω–≥ (`ruff`).  
  4. –ü—Ä–æ–≥–æ–Ω –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ (`pytest`).  
  5. –û—Ç—á—ë—Ç –ø–æ –ø–æ–∫—Ä—ã—Ç–∏—é –∫–æ–¥–∞.

---

# –û–ø–∏—Å–∞–Ω–∏–µ ML-–ø–∞–π–ø–ª–∞–π–Ω–∞

## 1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏–≥—Ä (`game_ids`) —á–µ—Ä–µ–∑ `get_game_ids`.
- –î–∞–Ω–Ω—ã–µ –¥–µ–ª—è—Ç—Å—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—É—é –∏ —Ç–µ—Å—Ç–æ–≤—É—é —á–∞—Å—Ç–∏ —Å —É—á—ë—Ç–æ–º `test_size`.
- –§–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –º–∞—Å—Å–∏–≤—ã –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ `X_train`, `X_test` –∏ —Ü–µ–ª–µ–≤—ã—Ö –º–µ—Ç–æ–∫ `y_train`, `y_test` —á–µ—Ä–µ–∑ `get_X_y`.

---

## 2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫
- **map_col** ‚Äî –∫–æ–ª–æ–Ω–∫–∞ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –∫–∞—Ä—Ç—ã.
- **team_cols** ‚Äî –∫–æ–ª–æ–Ω–∫–∏ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏ –∫–æ–º–∞–Ω–¥.
- **player_cols** ‚Äî –∫–æ–ª–æ–Ω–∫–∏ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏ –∏–≥—Ä–æ–∫–æ–≤ (10 –∏–≥—Ä–æ–∫–æ–≤: 5 –Ω–∞ –∫–æ–º–∞–Ω–¥—É).
- **player_stats_keys** ‚Äî –∫–ª—é—á–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–æ–≤: `kills`, `deaths`, `assists`, `flash_assists`, `headshots`.

---

## 3. –ü–∞–π–ø–ª–∞–π–Ω—ã –ø—Ä–∏–∑–Ω–∞–∫–æ–≤

### a) `map_pipeline`
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–ª–æ–Ω–∫—É –∫–∞—Ä—Ç—ã.
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç `OneHotEncoder` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ –±–∏–Ω–∞—Ä–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏.

### b) `team_pipeline`
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ –∫–æ–º–∞–Ω–¥.
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç `BagEncoder`, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–¥–∏—Ä—É–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ –ø–µ—Ä–≤–æ–π –∏–ª–∏ –≤—Ç–æ—Ä–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ –º–∞—Ç—á–∞ (+1 / -1).

### c) `player_pipeline`
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ –∏–≥—Ä–æ–∫–æ–≤.
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç `BagEncoder` –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∫–æ–º–∞–Ω–¥–∞–º.

### d) `player_elo_pipeline`
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ –∏–≥—Ä–æ–∫–æ–≤.
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç `PlayerEloEncoder`, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç ELO —Ä–µ–π—Ç–∏–Ω–≥ –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏–≥—Ä.
- –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `MinMaxScaler`.

### e) `player_stats_pipelines`
- –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–æ–≤ (`kills`, `deaths`, ‚Ä¶):
  - –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∫–æ–ª–æ–Ω–∫–∏ –∏–≥—Ä–æ–∫–æ–≤.
  - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `PlayerStatisticSumExtractor` –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ —Å—É–º–º–∞—Ä–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–æ–≤.
  - –ù–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `MinMaxScaler`.

---

## 4. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- –í—Å–µ –≤—ã—à–µ–æ–ø–∏—Å–∞–Ω–Ω—ã–µ –ø–∞–π–ø–ª–∞–π–Ω—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫ `all_pipelines`.

---

## 5. –ú–µ—Ç–∞-–ø–∞–π–ø–ª–∞–π–Ω: Stacking
- –°–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—ä–µ–∫—Ç `OOFPredictor` –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è out-of-fold –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π.
- –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω `MLStacker` –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ `all_pipelines`:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `n_iters` –∏—Ç–µ—Ä–∞—Ü–∏–π –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π.
  - –í –∫–∞—á–µ—Å—Ç–≤–µ –º–µ—Ç–∞-–º–æ–¥–µ–ª–∏ –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ out-of-fold –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è—Ö –±–∞–∑–æ–≤—ã—Ö –ø–∞–π–ø–ª–∞–π–Ω–æ–≤.

---

## 6. –û–±—É—á–µ–Ω–∏–µ –∏ –æ—Ü–µ–Ω–∫–∞
- –ü–∞–π–ø–ª–∞–π–Ω –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ `X_train` –∏ `y_train`.
- –ù–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö `X_test` –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø–æ–±–µ–¥—ã (`predict_proba`).
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `get_metrics`.

---

## 7. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `UUID` –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏.
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
  - —Å–∞–º –ø–∞–π–ø–ª–∞–π–Ω (`.joblib`),
  - –º–µ—Ç—Ä–∏–∫–∏ (`.json`).
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `logging`.

---

## –ò—Ç–æ–≥
–ü–∞–π–ø–ª–∞–π–Ω:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (–∫–∞—Ä—Ç–∞, –∫–æ–º–∞–Ω–¥—ã, –∏–≥—Ä–æ–∫–∏, –∏—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ ELO),
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç `stacking` –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π,
- –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –∏ –∫–æ–¥–∏—Ä—É–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏,
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –º–µ—Ç—Ä–∏–∫–∏.


